---
import { Image } from 'astro:assets';
import heroImage from '../assets/hvac-contractor-in-san-antonio.jpg';
import { business } from '../data/site';

export interface Props {
  heading: string;
  subheading: string;
  showCta?: boolean;
  variant?: 'home' | 'page' | 'service';
}

const { heading, subheading, showCta = true, variant = 'page' } = Astro.props;
const isHome = variant === 'home';
---

<section class={`relative ${isHome ? 'py-16 sm:py-20 md:py-32' : 'py-12 sm:py-14 md:py-20'} overflow-hidden`}>
  <!-- Background image -->
  <div class="absolute inset-0">
    <Image
      src={heroImage}
      alt="ArcticFlow HVAC professional technician"
      class="w-full h-full object-cover"
      widths={[640, 1024, 1536, 2048]}
      sizes="100vw"
      loading="eager"
      quality={80}
    />
    <div class={`absolute inset-0 ${isHome ? 'bg-gradient-to-r from-primary/95 via-primary/85 to-primary/60' : 'bg-primary/80'}`}></div>
  </div>

  <!-- Subtle pattern -->
  <div class="absolute inset-0 opacity-[0.03]" style="background-image: radial-gradient(circle, rgba(255,255,255,0.4) 1px, transparent 1px); background-size: 28px 28px;"></div>

  <div class="container-wide relative z-10 px-4 sm:px-6 lg:px-8">
    <div class={isHome ? 'max-w-3xl' : 'text-center max-w-4xl mx-auto'}>
      {isHome && (
        <div class="inline-flex items-center gap-2 sm:gap-2.5 bg-white/10 backdrop-blur-sm rounded-full px-3.5 sm:px-5 py-2 sm:py-2.5 mb-5 sm:mb-7 border border-white/15">
          <span class="text-accent text-[0.75rem] sm:text-[0.875rem] tracking-wide">★★★★★</span>
          <span class="text-white/90 text-[0.75rem] sm:text-[0.875rem] font-medium">Top Rated in Las Vegas</span>
          <span class="w-px h-3.5 bg-white/25 hidden sm:block"></span>
          <span class="text-accent text-[0.75rem] sm:text-[0.875rem] font-semibold hidden sm:block">24/7 Service</span>
        </div>
      )}

      <h1 class={`font-heading font-extrabold text-white mb-4 sm:mb-5 ${isHome ? 'text-[2rem] sm:text-[2.5rem] md:text-[3.5rem] leading-[1.1]' : 'text-[1.75rem] sm:text-[2rem] md:text-h1 leading-[1.15]'}`}>
        {heading}
      </h1>

      <p class={`text-white/80 mb-7 sm:mb-9 ${isHome ? 'text-[1rem] sm:text-[1.125rem] md:text-[1.25rem] leading-relaxed max-w-2xl' : 'text-[1rem] sm:text-body-lg'}`}>
        {subheading}
      </p>

      {showCta && (
        <div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 max-w-sm sm:max-w-none">
          <a href="/contact/" class="btn-primary text-center">Get a Free Estimate</a>
          <a href={`tel:${business.phoneRaw}`} class="btn-outline-white text-center">Call: {business.phone}</a>
        </div>
      )}
    </div>
  </div>
</section>
